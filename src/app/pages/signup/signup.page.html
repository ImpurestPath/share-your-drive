<ion-header>
  <ion-toolbar>
    <ion-back-button slot='start'></ion-back-button>
    <ion-title>Sign up</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="signupForm" (ngSubmit)="submit(signupForm)" novalidate *ngIf="signupForm">
    <ion-item lines="full">
      <ion-label position="floating">Name</ion-label>
      <ion-input type="text" formControlName="name"></ion-input>
    </ion-item>

    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">

      <div *ngIf="name.errors.required">
        Name is required.
      </div>
      <div *ngIf="name.errors.minlength">
        Name must be at least 3 characters long.
      </div>
    </div>


    <ion-item lines="full">
      <ion-label position="floating">Email</ion-label>
      <ion-input type="text" formControlName="email"></ion-input>
    </ion-item>

    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">

      <div *ngIf="email.errors.required">
        Email is required.
      </div>
      <div *ngIf="email.errors.email || email.errors.pattern">
        Wrong email
      </div>
    </div>

    <ion-item lines="full">
      <ion-label position="floating">Password</ion-label>
      <ion-input type="password" formControlName="password"></ion-input>
    </ion-item>

    <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">

      <div *ngIf="password.errors.required">
        Password is required.
      </div>
      <div *ngIf="password.errors.minlength">
        Password must be at least 8 characters long.
      </div>
    </div>


    <ion-button [disabled]="!signupForm.valid" type="submit" color="primary" shape="full" expand="block">Sign Up
    </ion-button>


  </form>

</ion-content>